{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Pipeline Infrastructure Schema",
  "type": "object",
  "properties": {
    "Infrastructure": {
      "type": "object",
      "properties": {
        "Version": { "type": "string" },
        "Compute": {
          "type": "object",
          "properties": {
            "Shared": { "type": "boolean" }
          },
          "required": ["Shared"]
        },
        "Orchestration": {
          "type": "object",
          "properties": {
            "Shared": { "type": "boolean" }
          },
          "required": ["Shared"]
        },
        "Storage": {
          "type": "object",
          "properties": {
            "Type": { "type": "string" },
            "Shared": { "type": "boolean" }
          },
          "required": ["Type", "Shared"]
        },
        "Persistence": {
          "type": "object",
          "properties": {
            "Type": { "type": "string" },
            "Configuration": { "type": "object" }
          },
          "required": ["Type", "Configuration"]
        },
        "Identity": {
          "type": "object",
          "properties": {
            "Type": { "type": "string" },
            "Configuration": { "type": "object" }
          },
          "required": ["Type", "Configuration"]
        },
        "Environment": {
          "type": "object",
          "properties": {
            "Type": { "type": "string" },
            "Configuration": { "type": "object" }
          },
          "required": ["Type", "Configuration"]
        },
        "Monitoring": {
          "type": "object",
          "properties": {
            "MetricsEndpoint": { "type": "string", "format": "uri" }
          },
          "required": ["MetricsEndpoint"]
        }
      },
      "required": ["Version", "Compute", "Orchestration", "Storage", "Persistence", "Identity", "Environment", "Monitoring"]
    }
  },
  "required": ["Infrastructure"]
}
